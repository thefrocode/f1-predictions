<div class="flex flex-col justify-center items-center h-full">
  <div
    class="flex flex-col gap-6 rounded-md bg-[#2B1643] w-1/3 h-4/5 py-4 px-8 text-white"
  >
    <div>
      <h1 class="text-3xl font-bold text-center">Welcome</h1>
      <p class="text-center mt-2">Sign into your account</p>
    </div>

    <form
      [formGroup]="loginForm"
      (ngSubmit)="login()"
      #form="ngForm"
      class="w-full flex flex-col gap-10 mt-6"
    >
      <div class="textbox w-full">
        <label></label>
        <input
          class="w-full"
          type="text"
          placeholder="Email"
          formControlName="email"
        />
        @if(f['email'].invalid && (f['email'].touched || form.submitted)){
        <div class="errors">
          @if(f['email'].errors?.['required']){
          <span>Email is required</span>
          } @if(f['email'].errors?.['email']){
          <span>Email should be a valid email address</span>
          }
        </div>
        }
      </div>
      <div class="textbox">
        <label></label>
        <input
          class="w-full"
          type="password"
          placeholder="Password"
          formControlName="password"
        />
        @if(f['password'].invalid && (f['password'].touched || form.submitted)){
        <div class="errors">
          @if(f['password'].errors?.['required']){
          <span>Password is required</span>
          } @if(f['password'].errors?.['minlength']){
          <span>Password must contain atleast 6 digits</span>
          }
        </div>
        }
      </div>

      <button
        type="submit"
        class="w-full bg-[#432268] rounded-md text-white py-2 flex items-center justify-center"
      >
        @if(authStore.status() === 'authenticating'){
        <mat-spinner diameter="20" color="primary"></mat-spinner>
        } @else {
        <span>Log In</span>
        }
      </button>
    </form>

    <div class="flex flex-col gap-2">
      <p class="text-center">or sign in with</p>

      <button
        (click)="loginWithGoogle()"
        class="w-1/3 mx-auto bg-[#432268] rounded-md text-white py-1 flex items-center justify-center"
      >
        <i class="bi bi-google"></i>
      </button>
    </div>

    <p class="text-center">
      Don't have an account?
      <a class="text-link" [routerLink]="'/signup'"
        ><span class="text-green"> Sign up </span></a
      >
    </p>
  </div>
</div>
