<div class="bg-white rounded-md">
  <p>Stats</p>
  @if(league_players.players()){
  <p>No of Players: {{ league_players.meta().totalItems }}</p>
  }
</div>
<div class="bg-white rounded-lg px-4 py-4">
  <p class="font-lemon">{{ league_players.selected_league()?.name }}</p>
  <div class="relative">
    <input
      class="bg-[#FAF2F8] rounded-md w-full h-[30px]"
      [formControl]="filterControl"
      (input)="league_players.updateFilter($event)"
    />
    <i class="bi bi-search absolute left-2 top-0.5 text-[#F98AE0]"></i>
  </div>
  <div
    class="w-full bg-[#B1B1EC] rounded-md flex gap-2 px-2 py-0.5 mt-2 mb-3 text-2xs text-white font-lemonada"
  >
    <p class="w-1/10">Pos</p>
    <p class="w-3/5">Player Name</p>
    <p>Last R</p>
    <p>Total</p>
  </div>
  @if(league_players.players()){ @for(player of league_players.players(); track
  player;let index = $index){
  <details #details (click)="loadOneTeam(details, player.id)">
    <summary>
      <div
        class="w-full rounded-md flex gap-2 px-2 py-2 my-1 text-xs font-lemonada shadow text-nowrap"
        [ngClass]="{
          'text-base bg-[#B1B1EC] py-2.5 text-white':
            player.id === active_player()?.id
        }"
      >
        <p class="w-1/10">{{ player.position }}.</p>
        <p class="w-3/5">{{ player.name }}</p>
        <p class="grow">{{ player.last_race_points }}</p>
        <p class="grow">{{ player.total_points }}</p>
      </div>
    </summary>
    <div>
      @for(prediction of selected_team()?.team; track prediction){
      <p>{{ prediction.driver_name }}</p>
      }
    </div>
  </details>
  } }
  <button
    (click)="
      league_players.meta().currentPage > 1
        ? league_players.updateCurrentPage(league_players.options().page - 1)
        : ''
    "
  >
    Prev
  </button>
  {{ league_players.meta().currentPage }}
  <button
    (click)="
      league_players.meta().totalPages > league_players.meta().currentPage
        ? league_players.updateCurrentPage(league_players.options().page + 1)
        : ''
    "
  >
    Next
  </button>
</div>
