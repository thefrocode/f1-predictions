<p class="pt-2 text-center text-white text-xl">
  {{ league_players.players()[0]?.league_name }}
</p>
<div class="rounded-md flex justify-between gap-4 my-4">
  <div
    class="row bg-gradient-to-r from-purple-500 to-pink-600 flex-1 py-5 px-4 flex gap-4 items-end ml-4 rounded-s-3xl justify-end items-center"
  >
    <div>
      <p class="text-[#AA84D5]">Avg Points</p>
      <p class="text-right text-xl font-bold text-white">90</p>
    </div>
    <i class="bi bi-file-earmark text-[#AA84D5] text-2xl font-bold"></i>
  </div>
  <div
    class="row bg-gradient-to-r from-pink-600 to-purple-500 flex-1 flex gap-4 py-5 px-4 mr-4 rounded-e-3xl items-center"
  >
    <i class="bi bi-person-fill text-[#FF53C0] text-2xl font-bold"></i>
    <div>
      <p class="text-[#FF53C0]">Players</p>
      <p class="text-white text-xl font-bold">
        {{ league_players.meta().totalItems }}
      </p>
    </div>
  </div>
</div>
<div class="bg-[#381D57] text-white rounded-lg px-4 py-4">
  <div class="relative">
    <input
      class="bg-[#AA84D5] rounded-md w-full h-[30px] border-none"
      [formControl]="filterControl"
      (input)="league_players.updateFilter($event)"
    />
    <i class="bi bi-search absolute left-2 top-0.5 text-[#954FEE]"></i>
  </div>
  <div
    class="w-full bg-[#954FEE] opacity-60 rounded-md flex gap-2 px-2 py-2 mt-2 mb-3 text-2xs text-white font-lemonada"
  >
    <p class="w-1/10">Pos</p>
    <p class="w-3/5">Player Name</p>
    <p>Last R</p>
    <p>Total</p>
  </div>
  @if(league_players.players()){ @for(player of league_players.players(); track
  player;let index = $index){

  <details #details (click)="loadOneTeam(details, player.player_id)">
    <summary>
      <div
        class="w-full rounded-md flex gap-2 px-2 py-2 my-1 text-xs font-lemonada shadow text-nowrap"
        [ngClass]="{
          'text-base bg-[#B1B1EC] py-2.5 text-white':
            player.player_id === active_player()?.id
        }"
      >
        <p class="w-1/10">{{ player.position }}.</p>
        <p class="w-3/5">{{ player.name }}</p>
        <p class="grow">{{ player.last_race_points }}</p>
        <p class="grow">{{ player.total_points }}</p>
      </div>
    </summary>
    <div>
      @for(prediction of selected_team()?.team; track prediction){
      <div class="flex">
        <p>{{ prediction.prediction_type }} -</p>
        <p>{{ prediction.driver_name }}</p>
      </div>
      }
    </div>
  </details>
  } }
  <div class="flex justify-center gap-4 mt-1 items-center">
    <button
      (click)="
        league_players.meta().currentPage > 1
          ? league_players.updateCurrentPage(league_players.options().page - 1)
          : ''
      "
    >
      <i class="bi bi-chevron-double-left text-2xl text-[#F98AE0]"></i>
    </button>
    {{ league_players.meta().currentPage }}
    <button
      (click)="
        league_players.meta().totalPages > league_players.meta().currentPage
          ? league_players.updateCurrentPage(league_players.options().page + 1)
          : ''
      "
    >
      <i class="bi bi-chevron-double-right text-2xl text-[#F98AE0]"></i>
    </button>
  </div>
</div>
